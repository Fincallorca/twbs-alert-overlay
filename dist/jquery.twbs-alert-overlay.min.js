/*
 Twitter Bootstrap Alert Overlay 0.1.0
 Available under the MIT license.
 See https://github.com/Fincallorca/twbs-alert-overlay/ for more information.
*/
function TwbsAlertOverlay(d){this._options=$.extend({},TwbsAlertOverlay.DEFAULTS,d||{});0!==this._options.messages.length&&(this.$_overlay=null,TwbsAlertOverlay._scrollPosition={top:null,left:null},this._createOverlay=function(){var a=this._options.overlay.split(" "),a=a[a.length-1],b="div",c="";-1<a.search(/^[^#\.]+/g)&&(b=a.match(/^[^#\.]+/g));b=$(document.createElement(b));if(-1<a.search(/#[^#\.\s]+/g)){c=a.match(/#[^#\.\s]+/g).map(function(a){return a.substring(1)});if(1<c.length)throw Error("Multiple ids in option overlay: "+
this._options.overlay);b.attr("id",c[0])}-1<a.search(/\.[^#\.\s]+/g)&&(c=a.match(/\.[^#\.\s]+/g).map(function(a){return a.substring(1)}),b.attr("class",c.join(" ")));b.css("display","none");b.append($(document.createElement("div")));return b},this._appendOverlay=function(){var a=this._options.overlay.split(" ");a.pop();a=a.join(" ");""===a&&(a="body");a=$(a);if(1>a.length)throw Error("No element found to append overlay: "+this._options.overlay);this.$_overlay.appendTo(a)},this._initializeOverlay=
function(){this.$_overlay=$(this._options.overlay);0===this.$_overlay.length&&(!this._options.overlayAuto&&window.console&&console.warn?console.warn("Overlay '"+this._options.overlay+"' for twbsAlertOverlay could not be found!"):(this.$_overlay=this._createOverlay(),this._appendOverlay()));this.$_overlay.click(this._destroy.bind(this));this._showOverlay()},this._destroy=function(){this._hideOverlay()},this._getAlertsElement=function(){var a=$('<div class="container"></div>');this._options.messages.forEach(function(b){this._getAlertElement(b.type,
b.content).appendTo(a)}.bind(this));return a},this._getAlertElement=function(a,b){return $('<div class="alert alert-'+a+'" role="alert">'+b+"</div>")},this._showOverlay=function(){TwbsAlertOverlay._scrollPosition.top=window.scrollY||window.pageYOffset||document.body.scrollTop+(document.documentElement&&document.documentElement.scrollTop||0);TwbsAlertOverlay._scrollPosition.left=window.scrollX||window.pageXOffset||document.body.scrollLeft+(document.documentElement&&document.documentElement.scrollLeft||
0);var a=$("body");document.body.scrollHeight>document.documentElement.clientHeight&&a.css("overflow-y","scroll");document.body.scrollWidth>document.documentElement.clientWidth&&a.css("overflow-x","scroll");a.addClass("alert-overlay-open");this.$_overlay.html(this._getAlertsElement()).show()},this._hideOverlay=function(){$("body").removeClass("alert-overlay-open");this.$_overlay.hide()},this._initializeOverlay())}TwbsAlertOverlay.DEFAULTS={overlay:"#alert-overlay",overlayAuto:!0,messages:[]};
$(document).on("scroll",function(){$("body").hasClass("alert-overlay-open")&&(console.log(TwbsAlertOverlay._scrollPosition.left,TwbsAlertOverlay._scrollPosition.top),window.scrollTo(TwbsAlertOverlay._scrollPosition.left,TwbsAlertOverlay._scrollPosition.top))});(function(d){null==d.twbsAlertOverlay&&(d.twbsAlertOverlay=function(a){return new TwbsAlertOverlay(a)})})($);
